# CD-DRIVER

CD Driver - специальная микросхема для управления двигателями и катушками [CD-ROM](cd.md):

- Spindel (шпиндель) - главный двигатель на котором вращается диск. Обычно крутится в одну сторону.
- Sledge (каретка) - на каретке расположена лазерная головка. Каретка обычно перемещается по червячной передаче.
- Катушка фокусировки - перемещает лазерный диод перепендикулярно поверхности диска
- Катушка трекинга - предназначена для точного перемещения лазерного луча по трекам CD

Очень хорошо расписано устройство CD здесь: http://www.radiofan.ru/faq/cd/part1.htm

В старых ревизиях материнок CD Driver был представлен микросхемой ROHM (IC704) и кучкой вспомогательных микросхем. В более поздних ревизиях CD Driver был заменён на одну общую микросхему `IC722`. Вот её то мы и возьмём за "эталон".

## IC704

![Ba6392fp_sm](/wiki/imgstore/Ba6392fp_sm.jpg)

Full resolution: https://drive.google.com/file/d/1tPvfsoNfepg7JGQX0SbOree_kSWo4pOS/view

## Аппаратный интерфейс

![IC722_overview](/wiki/imgstore/IC722_overview.jpg)

Управление моторами и катушками осуществляет [CD-DSP](cddsp.md):

- TFDR/TRDR: управление катушкой трекинга (F-forward, R-reverse)
- FFDR/FRDR: управление катушкой фокусировки
- SRDR/SFDR: управление двигателем каретки
- MDP: motor dirve phase - управление скоростью вращения диска, путём подачи специальных импульсов

Есть возможность установить скорость вращения диска (1x/2x), путём подачи сигнала SPEED, который идёт с [SUB-CPU](subcpu.md)

Сигнал MUTE заведён на сигнал RESET3.3 (сброс низковольтных схем подсистемы PSX)

## Forward/Reverse

TBD.

## MDP

В документации по CD-DSP есть описание сигнала MDP.

![MDP](/wiki/imgstore/MDP.jpg)

Управление мотором может производиться двумя режимами (задается в настройках CD-DSP DCLV PWM MD): с участием MDS и без его участия.

В частности IC722 управляется одним контактом MDP (без участия MDS), при этом положительная полярность задает ускорение двигателя, а отрицательная - торможение. Значение ускорения кодируется ШИМ (PWM), при этом n изменяется в диапазоне от 0 до 31.
